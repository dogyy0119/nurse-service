(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/ucenter/login-page/pwd-login/pwd-login"],{369:function(n,e,t){"use strict";(function(n,e){var o=t(4);t(26),t(27),t(34);o(t(25));var i=o(t(370));n.__webpack_require_UNI_MP_PLUGIN__=t,e(i.default)}).call(this,t(1)["default"],t(2)["createPage"])},370:function(n,e,t){"use strict";t.r(e);var o=t(371),i=t(373);for(var r in i)["default"].indexOf(r)<0&&function(n){t.d(e,n,(function(){return i[n]}))}(r);t(377);var c,s=t(54),u=Object(s["default"])(i["default"],o["render"],o["staticRenderFns"],!1,null,"7ba8c236",null,!1,o["components"],c);u.options.__file="pages/ucenter/login-page/pwd-login/pwd-login.vue",e["default"]=u.exports},371:function(n,e,t){"use strict";t.r(e);var o=t(372);t.d(e,"render",(function(){return o["render"]})),t.d(e,"staticRenderFns",(function(){return o["staticRenderFns"]})),t.d(e,"recyclableRender",(function(){return o["recyclableRender"]})),t.d(e,"components",(function(){return o["components"]}))},372:function(n,e,t){"use strict";var o;t.r(e),t.d(e,"render",(function(){return i})),t.d(e,"staticRenderFns",(function(){return c})),t.d(e,"recyclableRender",(function(){return r})),t.d(e,"components",(function(){return o}));try{o={uniCaptcha:function(){return t.e("uni_modules/uni-captcha/components/uni-captcha/uni-captcha").then(t.bind(null,724))},uniAgreements:function(){return t.e("components/uni-agreements/uni-agreements").then(t.bind(null,655))},uniQuickLogin:function(){return Promise.all([t.e("common/vendor"),t.e("components/uni-quick-login/uni-quick-login")]).then(t.bind(null,662))}}}catch(s){if(-1===s.message.indexOf("Cannot find module")||-1===s.message.indexOf(".vue"))throw s;console.error(s.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var i=function(){var n=this,e=n.$createElement,t=(n._self._c,n.$t("pwdLogin.pwdLogin")),o=n.$t("pwdLogin.placeholder"),i=n.$t("pwdLogin.passwordPlaceholder"),r=n.$t("pwdLogin.login"),c=n.$t("pwdLogin.forgetPassword"),s=n.$t("pwdLogin.register");n._isMounted||(n.e0=function(e){n.agree=e}),n.$mp.data=Object.assign({},{$root:{m0:t,m1:o,m2:i,m3:r,m4:c,m5:s}})},r=!1,c=[];i._withStripped=!0},373:function(n,e,t){"use strict";t.r(e);var o=t(374),i=t.n(o);for(var r in o)["default"].indexOf(r)<0&&function(n){t.d(e,n,(function(){return o[n]}))}(r);e["default"]=i.a},374:function(n,e,t){"use strict";(function(n,o){var i=t(4);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(t(375)),c={mixins:[r.default],data:function(){return{user_id:"",push_clientid:"",password:"",username:"",agree:!1,captcha:"",needCaptcha:!0}},computed:{canLogin:function(){return this.username.length&&this.isPwd&&this.agree},isPwd:function(){return/^.{6,20}$/.test(this.password)},isPhone:function(){return/^1\d{10}$/.test(this.phone)}},methods:{toRetrievePwd:function(){n.navigateTo({url:"../pwd-retrieve/pwd-retrieve?phoneNumber="+(this.isPhone?this.username:"")+"&phoneArea="+this.currenPhoneArea})},pwdLogin:function(){var e=this;if(console.log("start pwdLogin."),n.getPushClientId({success:function(n){e.push_clientid=n.cid,console.log("客户端推送标识:",e.push_clientid)},fail:function(n){console.log(n)}}),console.log("start pwdLogin."),!this.agree)return n.showToast({title:this.$t("common.noAgree"),icon:"none"});o.callFunction({name:"uni-id-cf",data:{action:"login",params:{push_clientid:this.push_clientid,username:this.username,password:this.password,captcha:this.captcha}},success:function(t){var o=t.result;console.log("登陆成功。"),console.log(o.uid),0===o.code?(e.loginSuccess(o),n.setStorageSync("username",e.username),n.setStorageSync("user_id",o.uid)):o.needCaptcha?(n.showToast({title:o.msg||"完成",icon:"none"}),e.needCaptcha=!0):n.showModal({title:e.$t("common.error"),content:o.msg,showCancel:!1,confirmText:e.$t("common.gotIt")})}})},toRegister:function(e){console.log(e),n.navigateTo({url:"/pages/ucenter/login-page/register/register"})}}};e.default=c}).call(this,t(2)["default"],t(34)["default"])},377:function(n,e,t){"use strict";t.r(e);var o=t(378),i=t.n(o);for(var r in o)["default"].indexOf(r)<0&&function(n){t.d(e,n,(function(){return o[n]}))}(r);e["default"]=i.a},378:function(n,e,t){}},[[369,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../../../.sourcemap/mp-weixin/pages/ucenter/login-page/pwd-login/pwd-login.js.map